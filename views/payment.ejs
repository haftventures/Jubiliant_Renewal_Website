
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="msapplication-starturl" content="/">
  <link  rel="icon" type="image/png" sizes="16x16"  href="" rel="web-icon">
  <title style="font-size: x-large;">Policy Renewal</title>
   <script src="https://cdn.tailwindcss.com"></script>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
   <link rel="StyleSheet" href="/css/style.css">
   <link href="https://unpkg.com/tabulator-tables@6.2.0/dist/css/tabulator.min.css" rel="stylesheet">
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"/>
     <!-- Loader -->
  <div id="loader" class="fixed inset-0 flex items-center justify-center bg-[#fdfcfc] z-50 w-screen h-screen" style="display:flex;">
    <img src="../assets/images/fl_2.gif" alt="Loading..." class="w-[100vh] h-[60vh] object-contain">
  </div>

  <style>
    body.loading {
      overflow: hidden;
    }
  </style>


  </head>
<body class="m-0 p-0 div_body overflow-x-hidden">
<div class="w-full bg-[#ffffff] flex items-center justify-between px-1 py-2 shadow-md">
  <!-- Left: User Name -->
<div class="flex items-center gap-2">
<img id="logo_id" src="/assets/images/jubiliant.png" alt="Logo" class="h-10 w-23 object-contain">
   <!-- <span class="text-xl font-bold text-black" style="font-size: small;">We have more than 1 crore customers.</span> -->
<!-- <div class="mt-5">
  <span class="text-xl font-bold text-black" style="font-size: small;">We have more than 1 crore customers.</span>
</div> -->

</div>

  <!-- Right: Logo -->
  <div class="hidden">
    <img  src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSnqUW5rpy85s0VUD3dOatNS-1ZPhwwIuWzmA&s" alt="Logo" class="h-10 w-30 object-contain">
  </div>
  <div class="flex items-center gap-2 cursor-pointer" id="support_btn">
    <i class="fa-solid fa-headset text-xl"></i>
    <span class="text-gray-800 font-semibold text-sm">Support</span>
  </div>
</div>

<div class="mt-6 mb-6">
 <h3 class="flex items-center justify-center text-center text-gray-800 font-semibold mb-2">
     Policy Renewal
</h3>
<div id="mainPage"
     class="w-[98%] justify-self-center  md:w-4/5 lg:w-4/5 
            mx-auto shadow-[0_0_15px_rgba(255,140,66,0.4)] 
            p-0 sm:p-0 md:p-0 mt-3 rounded-xl mb-3">

            
  <% followupListData.forEach(item => { %>
<div id="detailsPage"
     class="w-full max-w-5xl mx-auto p-4 sm:p-5 md:p-6 rounded-xl">

  <!-- Header Section -->
  <div class="mb-6 text-left">
    <p class="text-sm sm:text-base md:text-lg font-semibold">
      Hi <span id="txtcustomername"><b><%= item.customername %></b></span>,
    </p>

    <label id="lblid" class="hidden"><%= item.id %></label>
    <label id="lbtransactionid" class="hidden"><%= item.mobile %></label>
    <label id="lblmobile" class="hidden"><%= item.transactionid %></label>
  </div>

  <!-- Vehicle Details -->
  <h3 class="flex items-center font-semibold text-gray-800 mb-2 text-sm sm:text-base md:text-lg">
    <img class="w-6 h-6" src="/assets/icons/bike.png"/>
    &nbsp;Vehicle Details
  </h3>

  <!-- Vehicle Model Full Row -->
<!-- <div class="w-full  px-3 py-2 flex items-start bg-[#fff7ef] text-black 
             rounded-lg mb-3 shadow">

  <p class="font-semibold w-36 sm:w-40 whitespace-nowrap mt-1 md:mt-0 text-[13px] sm:text-[12px] md:text-[13px]">Vehicle Model</p>

  <p class="flex-1 text-black break-words whitespace-normal leading-tight mt-1 text-[12px] sm:text-[11px] md:text-[12px]">
    <span class="font-semibold">  :</span> <%= item.make %> - <%= item.model %>
  </p>
</div> -->





<% followupListData.forEach((item, index) => { %>

<div class="w-full px-3 py-2 bg-[#fff7ef] text-black rounded-lg mb-3 shadow">

  <div class="flex items-start">
    <!-- Label + Colon -->
    <p class="font-semibold w-36 sm:w-40 text-[13px] whitespace-nowrap">
      Vehicle Model 
    </p>

    <!-- Value -->
    <div class="flex-1 text-[12px] leading-relaxed">

      <p
        id="vehicleText-<%= index %>"
         class="overflow-hidden
         max-h-[1.1rem] sm:max-h-none
         break-all transition-all duration-300
         pl-3 -indent-2">

      <span class="font-semibold" >: </span>  <%= item.make %> <%= item.model %>
      </p>

      <!-- Toggle -->
      <button
        class="toggleBtn text-xs text-blue-600 sm:hidden mt-1 ms-3"
        data-index="<%= index %>">
        <span>More</span>
      </button>

    </div>
  </div>
</div>



<% }) %>








  <!-- Vehicle Data Grid -->
  <div class="w-full grid grid-cols-1 sm:grid-cols-2 gap-3 
              bg-[#fff7ef] rounded-lg px-3 py-3  shadow">

    <div class="flex items-center gap-1 ">
      <p class="font-semibold w-36 sm:w-40 whitespace-nowrap text-[13px] sm:text-[12px] md:text-[13px]">Mobile No</p>
      <p class="whitespace-nowrap text-black text-[12px] sm:text-[11px] md:text-[12px]"><span class="font-semibold">:</span> <%= item.mobile ? "X".repeat(item.mobile.length - 4) + item.mobile.slice(-4) : "" %></p>
    </div>

    <div class="flex items-center gap-1 ">
      <p class="font-semibold w-36 sm:w-40 whitespace-nowrap text-[13px] sm:text-[12px] md:text-[13px]">Registration No</p>
      <p class="whitespace-nowrap text-[12px] text-black sm:text-[11px] md:text-[12px]"><span class="font-semibold">:</span> <%= item.vehicleno %></p>
    </div>

    <div class="flex items-center gap-1 ">
      <p class="font-semibold w-36 sm:w-40 whitespace-nowrap text-[13px] sm:text-[12px] md:text-[13px]">Engine No</p>
      <p class="whitespace-nowrap text-[12px] sm:text-[11px] text-black md:text-[12px]"><span class="font-semibold">:</span> <%= item.engineno ? "X".repeat(item.engineno.length - 4) + item.engineno.slice(-4) : "" %></p>
    </div>

    <div class="flex items-center gap-1 ">
      <p class="font-semibold w-36 sm:w-40 whitespace-nowrap text-[13px] sm:text-[12px] md:text-[13px]">Chassis No</p>
      <p class="whitespace-nowrap text-[12px] sm:text-[11px] md:text-[12px] text-black"><span class="font-semibold">:</span> <%= item.chasisno ? "X".repeat(item.chasisno.length - 4) + item.chasisno.slice(-4) : "" %></p>
    </div>
  </div>

  <!-- Policy Details -->
  <h3 class="flex items-center font-semibold text-gray-800 mt-6 mb-2 
             text-sm sm:text-base md:text-lg">
    <img class="w-6 h-6" src="/assets/icons/policy_dt.png"/>
    &nbsp;Policy Details
  </h3>

  <div class="text-black bg-[#fff7ef]  shadow rounded-lg">

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3  px-3 py-3">
      <div class="flex items-center gap-1" style="display: none;">
        <p class="font-semibold w-36 sm:w-40 whitespace-nowrap text-[13px] sm:text-[12px] md:text-[13px]">Policy No</p>
        <p class="text-[12px] sm:text-[11px] md:text-[12px] text-black"><span class="font-semibold">:</span> <%= item.prev_policyno %></p>
      </div>

      <div class="flex items-center gap-1">
        <p class="font-semibold w-36 sm:w-40 whitespace-nowrap text-[13px] sm:text-[12px] md:text-[13px]">IDV</p>
        <p class="text-[12px] sm:text-[11px] md:text-[12px] text-black"><span class="font-semibold">:</span>  <%= item.idv ? `₹ ${item.idv} (approx.)` : "" %></p>
      </div>

      <div class="flex items-center gap-1">
        <p class="font-semibold w-36 sm:w-40 whitespace-nowrap text-[13px] sm:text-[12px] md:text-[13px]">Policy End Date</p>
        <p class=" text-[12px] sm:text-[11px] md:text-[12px]"><span class="font-semibold">:</span> <%= item.policyenddate %></p>
      </div>

      <div class="flex items-center gap-1" style="display: none;">
        <p class="font-semibold w-36 sm:w-40 whitespace-nowrap text-[13px] sm:text-[12px] md:text-[13px]">Email</p>
        <p class="text-[12px] sm:text-[11px] md:text-[12px] text-black"><span class="font-semibold">:</span> <%= item.email %></p>
      </div>
    </div>

    <div class="w-full px-3 py-2 flex justify-between items-center bg-[#ffd1a8] 
                text-black text-base md:text-lg rounded-lg mt-2">
      <p class="font-semibold">Premium Amount</p>
      <p class="font-extrabold">₹<span id="txtgrosspremium"><%= item.grosspremium %></span></p>
    </div>
  </div>
  <% }) %>
</div>

  <div class="hidden">
 <div id="qrSection" class="hidden md:flex flex-col items-center p-6 rounded-2xl">
    <h1 class="text-lg font-semibold mb-3 text-gray-700">Scan & Pay</h1>
    <canvas id="qrCanvas" ></canvas>    
    <p class="text-gray-600 text-sm">Scan this QR using any UPI app</p>
     <a id="downloadBtn" download="upi-qr.png" class="inline-block mt-4 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg"><i class="fa-solid fa-arrow-down text-white"></i> Download QR</a>
  </div>

  <!-- Mobile View: Show GPay icon -->
  <div id="mobileSection" class="flex md:hidden flex-col items-center">
     <h1 class="text-lg font-semibold mb-2 text-gray-700">Scan & Pay</h1>
     <div id="gpayIcon">
    <canvas id="qrCanvasmob" ></canvas>
     </div>
    
    <p class="text-gray-600 mt-2 text-sm">Tap to pay any UPI app</p>
  </div>
</div>

<!-- Centered Radio Buttons Section -->
<div class="w-full flex justify-center items-center py-6 px-2">

  <div class="w-full grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">

    <!-- 1 Year -->
    <div class="peer ">
      <input type="radio" id="oneYear" name="option" value="<%= oneYear %>" class="peer hidden" checked>
      <label for="oneYear"
             class="flex justify-center items-center cursor-pointer border border-orange-500 rounded-lg px-4 py-3
                    transition hover:bg-blue-50
                    peer-checked:bg-orange-500 peer-checked:border-orange-700 peer-checked:text-white">
        <span class="font-medium">1 Year — ₹<%= oneYear %></span>
      </label>
    </div>

    <!-- 2 Year -->
    <div class="peer ">
      <input type="radio" id="twoYear" name="option" value="<%= twoYear %>" class="peer hidden">
      <label for="twoYear"
             class="flex justify-center items-center cursor-pointer border border-orange-500 rounded-lg px-4 py-3
                    transition hover:bg-blue-50
                    peer-checked:bg-orange-500 peer-checked:border-orange-700 peer-checked:text-white">
        <span class="font-medium">2 Years — ₹<%= twoYear %></span>
      </label>
    </div>

    <!-- 3 Year -->
    <div class="peer ">
      <input type="radio" id="threeYear" name="option" value="<%= threeYear %>" class="peer hidden">
      <label for="threeYear"
             class="flex justify-center items-center cursor-pointer border border-orange-500 rounded-lg px-4 py-3
                    transition hover:bg-blue-50
                    peer-checked:bg-orange-500 peer-checked:border-orange-700 peer-checked:text-white">
        <span class="font-medium">3 Years — ₹<%= threeYear %></span>
      </label>
    </div>

  </div>

</div>





  
</div>



<div class="w-full flex justify-center items-center py-2 px-2">
  <div class="rounded-2xl p-6 w-full lg:w-full sm:w-96 text-center">
  <div class="space-y-4">

    <!-- Terms & Conditions Checkbox -->
 <div class="px-4 lg:px-[110px] text-left">
  <label class="flex items-start cursor-pointer">

    <!-- Checkbox -->
    <input
      id="terms_policy"
      type="checkbox"
      class="mt-1 h-4 w-4 shrink-0
             border-gray-300 rounded
             focus:ring-blue-500 accent-orange-600"
             checked
    />

    <!-- Text -->
    <span class="ml-1 text-gray-700 leading-relaxed block">
      I agree to the
      <a href="/termsandconditions.html" target="_blank">
        <span class="text-blue-600 underline hover:text-blue-800">Terms & Conditions</span> <span class="text-gray-700">and</span>
      </a>

      <!-- Mobile: new line aligned with checkbox -->
      <span class="block sm:hidden ml-0">
       
        <a href="/privacypolicy.html" target="_blank"
           class="text-blue-600 underline hover:text-blue-800">
          Privacy Policy
        </a>.
      </span>

      <!-- Desktop: single line -->
      <span class="hidden sm:inline">
        and
        <a href="/privacypolicy.html" target="_blank"
           class="text-blue-600 underline hover:text-blue-800">
          Privacy Policy
        </a>.
      </span>
    </span>

  </label>
</div>



    <!-- Note Section -->
<div class="px-0 lg:px-[105px]">
  <div class="grid grid-cols-[auto,1fr] gap-x-1 text-left">

    <!-- Label -->
    <span class="font-semibold text-gray-800 text-[10px] lg:text-sm">
      Note:
    </span>

    <!-- Text -->
    <span class="text-red-600 text-[9px] lg:text-xs leading-relaxed">
      Company working hours are 10:00 AM to 07:00 PM (Monday to Saturday).
      If payment is made outside working hours, the policy will be generated
      on the next working day.
    </span>

  </div>
</div>




  </div>
  </div>
</div>


<!-- Modal Background -->
<div id="support_Modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">

  <!-- Modal Box -->
  <div class="bg-white rounded-xl shadow-lg w-full max-w-md p-6">
    
    <!-- Header -->
    <div class="flex justify-between items-center mb-4">
       <!-- <div class="flex items-center gap-2">
      <i class="fa-solid fa-headset text-xl"></i>
        <span class="text-gray-800 font-semibold text-sm">Support</span>
       </div> -->
       <div class="flex items-center gap-2">
       <i class="fa-solid fa-pen"></i>
       <span class="text-center text-transform-capitalize text-[20px] text-black font-bold">Rise Your Queries</span>
       </div>
       
      <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-xl">&times;</button>
    </div>

    <!-- Form -->
    <div class="space-y-4">

      <!-- Name -->
      <div>
      <label class="block text-gray-700 font-medium mb-1">Header</label>
        <input id="sp_name" type="text" maxlength="50" class="w-full px-3 py-2 border rounded-lg focus:ring focus:ring-orange-500 outline-none" placeholder="Enter Header">
      </div>

      <!-- Description -->
      <div>
        <label class="block text-gray-700 font-medium mb-1">Description</label>
        <textarea maxlength="1000" id="sp_description" class="w-full px-3 py-2 border rounded-lg h-28 resize-none focus:ring focus:ring-orange-500 outline-none" placeholder="Enter description"></textarea>
      </div>

    </div>

    <!-- Footer Buttons -->
    <div class="mt-6 flex justify-end gap-3">
      <button onclick="closeModal()" class="px-4 py-2 secondary-button rounded-lg ">Cancel</button>
      <button id="save_btn" class="px-4 py-2 primary-button text-white rounded-lg">Submit</button>
    </div>

  </div>
</div>


<div class="w-full h-[50px] "></div>

<div id="stickybtn"
  class="fixed bottom-0 p-4 w-full rounded-t-xl backdrop-blur-[9px] bg-transparent">

  <div class="flex flex-row gap-3">

     <!-- Reject -->
    <button
      id="btn_sticky_Not_Interested"
      class="w-1/2 rounded-full shadow-xl flex items-center justify-center
             px-4 py-3 text-sm md:text-base font-semibold text-white
             bg-red-600 hover:bg-red-500 transition">
      Not Interested
    </button>

    <!-- Pay Now -->
    <button
      id="btn_sticky_renewal"
      class="w-1/2 rounded-full shadow-xl flex items-center justify-center
             px-4 py-3 text-sm md:text-base font-semibold text-white
             bg-orange-500 hover:bg-orange-600 transition">
      Pay Now <span class="ml-2" id="rn_am"></span>
    </button>
  </div>
</div>



 <label id="lblamount" class="hidden"></label>
 
 <div style="z-index: 100000;" id="hs-modal" class="hs-overlay hidden fixed inset-0 z-50 bg-black bg-opacity-70 backdrop-blur-[12px] flex items-center justify-center" role="dialog" aria-modal="true">
  <div class="bg-white rounded-xl w-full max-w-md p-6 shadow-lg fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2" >
    <!-- Header -->
    <div class="mb-4">
      <h3 id="modalHeader" class="text-xl text-green-500 font-bold border-b border-gray-200 text-gray-800"></h3>
     
      
    </div>
    <!-- Message -->
    <div class="mb-4">
      <p id="modalMessage" class="text-gray-700 text-lg"></p>
    </div>
    <!-- OK Button -->
    <div class="text-right">
      <button type="button" id="modalClose" class="py-2 px-4 text-sm font-medium rounded bg-green-600 text-white hover:bg-green-700">
        Cancel
      </button>
    </div>
  </div>
</div>

</div>
    <label for="lbltnxid" id="lbltnxid" class="hidden"></label>
    <label for="lblexcelid" id="lblexcelid" class="hidden"></label>
  <script src="/assets/js/jquery-3.6.0.min.js"></script>
  <script src="/assets/js/jquery-3.6.4.min.js"></script>
   <script src="/assets/flatpickr.js"></script>
  <script src="/assets/tabulator.min.js"></script>
  <script src="/assets/xlsx.full.min.js"></script>
  <link rel="stylesheet" href="/assets/flatpickr.min.css"/>
  <link rel="stylesheet" href="/assets/tabulator.min.css"/>
  <!-- <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script> -->
  <script src="/assets/qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="/assets/js/payment/payment.js"> </script>
  <script src="/assets/js/common_scripts.js"></script>
  
</body>
</html>




  